{"version":3,"sources":["js/header.js","js/draw.js","js/studio.js","js/input.js","js/model.js","App.js","serviceWorker.js","index.js","logo.svg"],"names":["Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","blockShows","state","renderFlag","demos","_this2","document","addEventListener","__click_on_more_projects__","refs","mp","style","display","ob","className","replace","loadDemos","_this3","axios","method","url","responseType","then","res","data","setState","prevState","e","console","warn","error","catch","err","_this4","react_default","a","createElement","src","logo","alt","title","onClick","moreProjects","ref","map","item","index","header_Demo","desc","source","preview","link","key","_this5","mpscroll","scrollTop","setTimeout","Component","Demo","_this6","ready","window","open","_this7","visibility","onLoad","onError","visit","Draw","mode","Fragment","width","height","onMouseDown","onTouchStart","onMouseMove","onMouseEnter","onMouseLeave","context","element","getContext","fillStyle","fillRect","canvas","beginPath","ele","pos","offsetLeft","offsetTop","parentNode","body","preventDefault","onCursor","moveCursor","basicDraw","cursor","img","Image","onload","appendChild","innerHTML","mx","clientX","changedTouches","my","clientY","top","left","container","containerPos","idInterval","RL","RT","x","pageX","y","pageY","moved","move","Math","abs","computePosition","scrollLeft","moveTo","setInterval","stroke","lineWidth","strokeStyle","lineTo","tm","up","removeEventListener","passive","clearInterval","Studio","hasUnusedFrame","frames","addFrame","draw","pickedColour","slice","colour","toolName","setMode","chars","maxPos","length","id","i","charAt","floor","random","unshift","String","used","contour_n","img_url","App","addContour","rotate","position","backgroundImage","onChange","pickTool","type","name","defaultChecked","clear","pickColour","backgroundColor","studio_OutputFrame","OutputFrame","generate","sketch","c","tagName","drawImage","getImageData","canvas_2","context_2","contour","Uint8Array","ArrayBuffer","IMG_WIDTH","j","t_colour","t_contour","Float32Array","tf","Model","cb","load","log","feed","Input","getInput","model","execute","input","loadFrozenModel","v","assertThisInitialized","loading","frame","canvas_id","alert","timestart","Date","getTime","output","run","studio","getSketch","getColour","use","update","onerror","d_canvas","js_header","fontSize","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.5273e391.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport logo from '../logo.svg';\r\nimport '../css/header.css'\r\n\r\nclass Header extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.blockShows = 0\r\n    this.state = {\r\n      renderFlag: 1\r\n    }\r\n    this.demos = []\r\n  }\r\n  componentDidMount(){\r\n    document.addEventListener('click', ()=>{\r\n      if(this.blockShows === 1&&!this.__click_on_more_projects__){\r\n        this.blockShows = 0\r\n        this.refs.mp.style.display = ''\r\n        this.refs.ob.className = this.refs.ob.className.replace(/ open/g,'')\r\n        this.refs.mp.className = this.refs.mp.className.replace(/ open/g,'')\r\n      }\r\n      this.__click_on_more_projects__ = 0\r\n    })\r\n    this.loadDemos()\r\n  }\r\n  loadDemos(){\r\n    const url = 'https://georgechenzj.github.io/static/demos.json'\r\n    axios({\r\n      method: 'get',\r\n      url: url,\r\n      responseType: 'json'\r\n    }).then((res)=>{\r\n      try {\r\n        this.demos = res.data.demos\r\n        this.setState((prevState)=>{\r\n          return {\r\n            renderFlag: ~prevState.renderFlag\r\n          }\r\n        })\r\n      } catch (e) {\r\n        console.warn(e);\r\n        console.error('Data format error');\r\n      }\r\n    }).catch((err)=>{\r\n      console.warn(err);\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='header'>\r\n        <img src={logo} className=\"header-logo\" alt=\"logo\"/>\r\n        <div className='header-title'>{this.props.title} @David Albert</div>\r\n        <div className='options' onClick={()=>this.moreProjects()} ref='ob'>\r\n          <div className='options-text'>More Projects</div>\r\n          <div className='options-btn'></div>\r\n        </div>\r\n        <div className='more-projects' ref='mp' onClick={()=>{this.__click_on_more_projects__=1}}>\r\n          <div className='btn-placeholder' onClick={()=>this.moreProjects()}></div>\r\n          <div className='mp-hide-scroll' ref='mpscroll'>\r\n              <div className='mp-content'>\r\n                <div className='mp-welcome'>\r\n                  <div className='mp-welcome-content'>\r\n                      <div className='mp-welcome-ball-ct'>\r\n                                  <div className='mp-welcome-ball-r1'>\r\n                                    <div className='mp-welcome-ball1'>\r\n                                      <div className='mp-welcome-ball-r2'>\r\n                                      <div className='mp-welcome-ball2'></div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                      </div>\r\n                      <div className='mp-welcome-text'>{\"Hi! Let's discover more fun projects.\"}</div>\r\n                  </div>\r\n                </div>\r\n              <div className='mp-demos' ref='demos'>\r\n                {\r\n                  this.demos.map((item, index)=>{\r\n                    if(item.title)\r\n                      return(\r\n                        <Demo title={item.title} desc={item.desc} source={item.preview} link={item.link} key={index}/>\r\n                      )\r\n                    return null\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  moreProjects(){\r\n    this.__click_on_more_projects__ = 1\r\n    if(!this.blockShows){\r\n      this.refs.mp.style.display = 'block'\r\n      this.refs.mpscroll.scrollTop = 0\r\n      setTimeout(()=>{\r\n        this.blockShows = 1\r\n        this.refs.ob.className += ' open'\r\n        this.refs.mp.className += ' open'\r\n      }, 50)\r\n    }else{\r\n      this.blockShows = 0\r\n      this.refs.mp.style.display = ''\r\n      this.refs.ob.className = this.refs.ob.className.replace(/ open/g,'')\r\n      this.refs.mp.className = this.refs.mp.className.replace(/ open/g,'')\r\n    }\r\n  }\r\n}\r\nclass Demo extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      ready: 0,\r\n      error: 0\r\n    }\r\n  }\r\n  visit(){\r\n    if(this.props.link){\r\n      window.open(this.props.link)\r\n    }\r\n  }\r\n  render(){\r\n    return (\r\n      <div className='demo'>\r\n        <div className='demo-title'>{this.props.title}</div>\r\n        <div className='demo-desc'>{this.props.desc}</div>\r\n          {\r\n            this.props.source?\r\n            (\r\n              <div className='demo-img-frame'>\r\n\r\n                <img src={this.props.source} className='demo-img' alt='' title={this.props.title}\r\n                style={{visibility: this.state.ready&&!this.state.error?'visible':'hidden'}}\r\n                onLoad={()=>this.setState({ready:1})} onError={()=>this.setState({error:1})}\r\n                onClick={()=>this.visit()}/>\r\n                {\r\n                  this.state.ready&&!this.state.error?\r\n                  ''\r\n                  :\r\n                  <img src='static/img/loading.gif' className=\"demo-img-loading\" alt=\"loading\" onClick={()=>this.visit()}/>\r\n                }\r\n              </div>\r\n            ):(\r\n              <div className='demo-img-frame'>\r\n                <div className='demo-plaintext' onClick={()=>this.visit()} title={this.props.title}>\r\n                  <img className='demo-texticon' src='static/img/texticon.png' alt=''/>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header\r\n","import React, { Component } from 'react';\r\nimport '../App.css';\r\n\r\nclass Draw extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.mode = 1\r\n  }\r\n  setMode(mode){\r\n    this.mode = mode\r\n  }\r\n  componentDidMount(){\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n      <div className='cursor' ref='cursor'></div>\r\n      <canvas width={512} height={512} className='draw' ref='element'\r\n        onMouseDown={(e)=>{this.onMouseDown(e)}}\r\n        onTouchStart={(e)=>{this.onMouseDown(e)}}\r\n        onMouseMove={(e)=>{this.onMouseMove(e)}}\r\n        onMouseEnter={(e)=>{this.onMouseEnter(e)}}\r\n        onMouseLeave={(e)=>{this.onMouseLeave(e)}}\r\n      ></canvas>\r\n      </React.Fragment>\r\n\r\n    )\r\n  }\r\n  clear(){\r\n    const context = this.refs.element.getContext('2d')\r\n    context.fillStyle = 'white'\r\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n    context.beginPath();\r\n  }\r\n  computePosition(ele){\r\n    const pos = [0,0]\r\n    do{\r\n      pos[0] += ele.offsetLeft\r\n      pos[1] += ele.offsetTop\r\n      ele = ele.parentNode\r\n    }while(ele!==document.body)\r\n    return pos\r\n  }\r\n  onMouseMove(e){\r\n    e.preventDefault()\r\n    if(this.onCursor){\r\n      this.moveCursor(e)\r\n    }\r\n  }\r\n  onMouseDown(e){\r\n    e.preventDefault()\r\n    this.basicDraw(e, this.mode)\r\n  }\r\n  onMouseEnter(e){\r\n    e.preventDefault()\r\n    const cursor = this.refs.cursor\r\n    const img = new Image()\r\n    img.width = 20\r\n    img.height = 20\r\n    if(this.mode===1){\r\n      img.src = 'static/img/pencil.svg'\r\n    }else if (this.mode===0) {\r\n      img.src = 'static/img/rubber.svg'\r\n    }\r\n    img.alt = ''\r\n    img.onload = ()=>{\r\n      cursor.appendChild(img)\r\n      cursor.className += ' on'\r\n    }\r\n    this.onCursor = true\r\n  }\r\n  onMouseLeave(){\r\n    this.onCursor = false\r\n    const cursor = this.refs.cursor\r\n    cursor.className = 'cursor'\r\n    cursor.innerHTML = ''\r\n  }\r\n  moveCursor(e){\r\n    let mx = e.clientX || (e.changedTouches?e.changedTouches[0].clientX:0)\r\n    let my = e.clientY || (e.changedTouches?e.changedTouches[0].clientY:0)\r\n    const cursor = this.refs.cursor\r\n    cursor.style.top = my +'px'\r\n    cursor.style.left = mx +'px'\r\n\r\n  }\r\n  basicDraw(e, mode){\r\n    const x = e.pageX || (e.changedTouches?e.changedTouches[0].pageX:0)\r\n    const y = e.pageY || (e.changedTouches?e.changedTouches[0].pageY:0)\r\n    let container\r\n    let containerPos\r\n    let idInterval\r\n    let context\r\n    let RL\r\n    let RT\r\n\r\n    let moved = false\r\n\r\n    const move = (e)=>{\r\n      e.preventDefault()\r\n      let mx = e.pageX || (e.changedTouches?e.changedTouches[0].pageX:0)\r\n      let my = e.pageY || (e.changedTouches?e.changedTouches[0].pageY:0)\r\n      if(!moved&&Math.abs(my-y)<4&&Math.abs(mx-x)<4) return\r\n      if(!moved){\r\n        moved = true\r\n        container = this.refs.element\r\n        containerPos = this.computePosition(container)\r\n        RT = containerPos[1] - container.scrollTop\r\n        RL = containerPos[0] - container.scrollLeft\r\n        context = this.refs.element.getContext('2d')\r\n        context.beginPath()\r\n        context.moveTo(x - RL, y - RT)\r\n        idInterval = setInterval(()=>{\r\n          context.stroke()\r\n        },30)\r\n        if(mode===0){ //rubber\r\n          context.lineWidth = 15\r\n          context.strokeStyle = '#fff'\r\n        }else {\r\n          context.lineWidth = 1\r\n          context.strokeStyle = '#000'\r\n        }\r\n      }\r\n      context.lineTo(mx - RL, my - RT)\r\n    }\r\n    const tm = function(e){e.preventDefault()}\r\n    const up = (e)=>{\r\n      document.removeEventListener('touchmove', tm, {passive: false})\r\n      document.removeEventListener('mousemove', move, false)\r\n      document.removeEventListener('mouseup', up, false)\r\n      document.removeEventListener(\"touchmove\", move, false)\r\n      document.removeEventListener(\"touchend\", up, false)\r\n      document.removeEventListener(\"touchcancel\", up, false)\r\n      if(moved){\r\n        clearInterval(idInterval)\r\n        context.stroke()\r\n      }\r\n    }\r\n    document.addEventListener('touchmove', tm, {passive: false})\r\n    document.addEventListener('mousemove', move, false)\r\n    document.addEventListener('mouseup', up, false)\r\n    document.addEventListener(\"touchmove\", move, false)\r\n    document.addEventListener(\"touchend\", up, false)\r\n    document.addEventListener(\"touchcancel\", up, false)\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default Draw\r\n","import React, { Component } from 'react';\r\nimport Draw from './draw.js'\r\nimport '../App.css'\r\n\r\nclass Studio extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      renderFlag: 0,\r\n      hasUnusedFrame: true\r\n    }\r\n    this.frames = []\r\n  }\r\n  componentDidMount(){\r\n    this.addFrame()\r\n  }\r\n  getSketch(){\r\n    return this.refs.draw.refs.element\r\n  }\r\n  getColour(){\r\n    if(this.pickedColour)\r\n      return this.pickedColour.slice()\r\n    else\r\n      return null\r\n  }\r\n  pickColour(colour){\r\n    this.pickedColour = colour.slice()\r\n  }\r\n  pickTool(toolName){\r\n    if(toolName==='RUBBER'){\r\n      this.refs.draw.setMode(0)\r\n    }\r\n    else if (toolName==='PENCIL') {\r\n      this.refs.draw.setMode(1)\r\n    }\r\n  }\r\n  addFrame(){\r\n\r\n    const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678'\r\n    const maxPos = chars.length\r\n    let id = ''\r\n    for (let i = 0; i < 8; i++) {\r\n      id += chars.charAt(Math.floor(Math.random() * maxPos))\r\n    }\r\n    this.frames.unshift(id)\r\n\r\n    this.setState((prevState)=>{\r\n      return {\r\n        renderFlag: ~prevState.renderFlag,\r\n        hasUnusedFrame: true\r\n      }\r\n    })\r\n  }\r\n  getUnusedFrame(){\r\n    const frame = this.refs[String(this.frames[0])]\r\n    return frame\r\n  }\r\n  update(){\r\n    const frame = this.refs[String(this.frames[0])]\r\n    if(frame.state.used){\r\n      this.setState({\r\n        hasUnusedFrame: false\r\n      })\r\n    }\r\n  }\r\n  rotate(){\r\n    if(!this.contour_n){\r\n      this.contour_n = 1\r\n    }\r\n    else {\r\n      ++ this.contour_n\r\n    }\r\n    const img_url = 'static/img/'+this.contour_n+'.jpg'\r\n    window.App.addContour(img_url, ()=>{\r\n      this.contour_n = 0\r\n      this.rotate()\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n      <div className='studio'>\r\n        <div className='frame frame-input' style={{position:'relative', backgroundImage: 'url(static/img/timg.jpg)'}}>\r\n          <div className='toolkit'>\r\n            <div className='tool'>\r\n              <input className='tool-radio' onChange={()=>this.pickTool('RUBBER')} type='radio' name='pick-tool'/>\r\n              <div className='tool-manifest'>\r\n                <img className='tool-icon' src='static/img/rubber.svg' alt=''/>\r\n              </div>\r\n            </div>\r\n            <div className='tool'>\r\n              <input className='tool-radio' onChange={()=>this.pickTool('PENCIL')} type='radio' name='pick-tool' defaultChecked/>\r\n              <div className='tool-manifest'>\r\n                <img className='tool-icon' src='static/img/pencil.svg' alt=''/>\r\n              </div>\r\n            </div>\r\n            <div className='tool right'>\r\n              <input className='tool-radio ckeckbox' onChange={()=>this.refs.draw.clear()} type='checkbox' name='clear'/>\r\n              <div className='tool-manifest'>\r\n                <img className='tool-icon' src='static/img/clear.png' alt=''/>\r\n              </div>\r\n            </div>\r\n            <div className='tool right'>\r\n              <input className='tool-radio ckeckbox' onChange={()=>this.rotate()} type='checkbox' name='clear'/>\r\n              <div className='tool-manifest'>\r\n                <img className='tool-icon' src='static/img/rotate.png' alt=''/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Draw ref='draw'/>\r\n        </div>\r\n        <div className='display' ref='display'>\r\n          <div className='colour-picker' style={{display: this.state.hasUnusedFrame?'':'none'}}>\r\n            <div className='colour-block'>\r\n              <input className='colour-picker-radio' onChange={()=>{this.pickColour([20,20,200])}}  type='radio' name='pick-colour' defaultChecked/>\r\n              <div className='colour-block-bg' style={{backgroundColor:'rgb(20, 20, 200)'}}></div>\r\n            </div>\r\n            <div className='colour-block'>\r\n              <input className='colour-picker-radio' onChange={()=>{this.pickColour([200, 20, 20])}} type='radio' name='pick-colour'/>\r\n              <div className='colour-block-bg' style={{backgroundColor:'rgb(200, 20, 20)'}}></div>\r\n            </div>\r\n            <div className='colour-block'>\r\n              <input className='colour-picker-radio' onChange={()=>{this.pickColour([250, 250, 250])}} type='radio' name='pick-colour'/>\r\n              <div className='colour-block-bg' style={{backgroundColor:'rgb(250, 250, 250)'}}></div>\r\n            </div>\r\n            <div className='colour-block'>\r\n              <input className='colour-picker-radio' onChange={()=>{this.pickColour([130, 130, 130])}} type='radio' name='pick-colour'/>\r\n              <div className='colour-block-bg' style={{backgroundColor:'rgb(130, 130, 130)'}}></div>\r\n            </div>\r\n            <div className='colour-block'>\r\n              <input className='colour-picker-radio' onChange={()=>{this.pickColour([20,20,20])}} type='radio' name='pick-colour'/>\r\n              <div className='colour-block-bg' style={{backgroundColor:'rgb(20, 20, 20)'}}></div>\r\n            </div>\r\n          </div>\r\n          <button className='btn-add-frame' onClick={()=>this.addFrame()}\r\n            style={{display:this.state.hasUnusedFrame?'none':''}}\r\n          >+</button>\r\n          {\r\n            this.frames.map((data,index)=>{\r\n              return (\r\n                <OutputFrame ref={data} key={data}/>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n      </React.Fragment>\r\n\r\n    )\r\n  }\r\n\r\n\r\n}\r\nclass OutputFrame extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      used: false\r\n    }\r\n  }\r\n  use(){\r\n    this.setState({\r\n      used: true\r\n    })\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='frame'>\r\n        <canvas width={256} height={256} className='output' ref='canvas'></canvas>\r\n        {\r\n          this.state.used?null:(\r\n            <div className='output-control'>\r\n              <button className='btn-go' onClick={()=>{window.App.generate(this)}}>GO</button>\r\n            </div>\r\n          )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Studio\r\n","import * as tf from '@tensorflow/tfjs'\r\n\r\nclass sketch{\r\n\r\n  constructor(sketch, colour){\r\n\r\n    const IMG_WIDTH = 256\r\n\r\n    let c, data\r\n    if(sketch.tagName===\"IMAGE\"){\r\n      sketch.width = IMG_WIDTH\r\n      sketch.height = IMG_WIDTH\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = IMG_WIDTH\r\n      canvas.height = IMG_WIDTH\r\n      c = canvas.getContext(\"2d\")\r\n      c.drawImage(sketch, 0, 0)\r\n      data = c.getImageData(0, 0, IMG_WIDTH, IMG_WIDTH).data\r\n    }\r\n    else if (sketch.tagName===\"CANVAS\") {\r\n      if(sketch.width!==IMG_WIDTH||sketch.height!==IMG_WIDTH){\r\n        const canvas_2 = document.createElement('canvas')\r\n        canvas_2.width = IMG_WIDTH\r\n        canvas_2.height = IMG_WIDTH\r\n        const context_2 = canvas_2.getContext('2d')\r\n        context_2.drawImage(sketch, 0, 0, IMG_WIDTH, IMG_WIDTH)\r\n        data = context_2.getImageData(0, 0, IMG_WIDTH, IMG_WIDTH).data\r\n      }else {\r\n        data = c.getImageData(0, 0, IMG_WIDTH, IMG_WIDTH).data\r\n      }\r\n    }\r\n    const fix = (num)=>{\r\n      if(num>128) return 0\r\n      return 2\r\n    }\r\n    const contour =  new Uint8Array(new ArrayBuffer(IMG_WIDTH * IMG_WIDTH), 0, IMG_WIDTH * IMG_WIDTH)\r\n    let j = 0\r\n    for (let i = 0; i < data.length; i+=4) {\r\n      contour[j++] = fix(data[i])\r\n    }\r\n\r\n    this.contour = contour\r\n    this.colour = colour || [255,255,255]\r\n\r\n  }\r\n\r\n  getInput(){\r\n    const t_colour = this.colour\r\n    t_colour[0] = t_colour[0] /255 *2 -1\r\n    t_colour[1] = t_colour[1] /255 *2 -1\r\n    t_colour[2] = t_colour[2] /255 *2 -1\r\n\r\n    const t_contour = this.contour\r\n    const IMG_WIDTH = 256\r\n    const data =  new Float32Array(new ArrayBuffer(IMG_WIDTH * IMG_WIDTH * 4 * 4), 0, IMG_WIDTH * IMG_WIDTH * 4)\r\n    let j = 0\r\n    for (let i = 0; i < data.length; i+=4) {\r\n      data[i] = t_colour[0]\r\n      data[i+1] = t_colour[1]\r\n      data[i+2] = t_colour[2]\r\n      data[i+3] = t_contour[j++]-1\r\n    }\r\n    return tf.tensor(data, [1, IMG_WIDTH, IMG_WIDTH, 4])\r\n  }\r\n}\r\n\r\nexport default sketch\r\n","import Input from './input.js'\r\n// import * as tf from '@tensorflow/tfjs'\r\nimport {loadFrozenModel} from '@tensorflow/tfjs-converter';\r\n\r\n\r\nclass Model{\r\n  constructor(cb){\r\n\r\n    this.load(()=>{\r\n      console.log('Model loaded');\r\n      cb()\r\n    })\r\n\r\n  }\r\n  run(feed){\r\n    const data = new Input(feed.sketch, feed.colour).getInput()\r\n    return this.model.execute({input: data})\r\n  }\r\n\r\n  load(cb){\r\n    const MODEL_URL = 'static/model/JS_MODEL_1/tensorflowjs_model.pb';\r\n    const WEIGHTS_URL = 'static/model/JS_MODEL_1/weights_manifest.json';\r\n\r\n    loadFrozenModel(MODEL_URL, WEIGHTS_URL).then((v)=> {\r\n\r\n      this.model = v\r\n      cb()\r\n\r\n    }, function(err) {\r\n      console.log(err); // failure\r\n    })\r\n  }\r\n}\r\n\r\nexport default Model\r\n","import React, { Component } from 'react';\nimport * as tf from '@tensorflow/tfjs'\nimport './App.css';\nimport Header from './js/header.js'\n\nimport Studio from './js/studio.js'\nimport Model from './js/model.js'\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    window.App = this\n  }\n  componentDidMount(){\n    this.model = new Model(()=>{\n      this.refs.loading.className += ' off'\n    })\n    this.addContour('static/img/2.jpg')\n  }\n  generate(frame, canvas_id){\n    if(!this.model) return alert('Model not loaded')\n\n    window.timestart = new Date().getTime()\n    const output = this.model.run({\n      sketch: this.refs.studio.getSketch(),\n      colour: this.refs.studio.getColour()||[58,60,200]\n    })\n    console.log('elapsed: '+(new Date().getTime()-window.timestart))\n\n\n    const canvas = frame.refs.canvas\n    tf.toPixels(tf.reshape(tf.cast(output, 'int32'), [256,256,3]), canvas)\n    console.log('elapsed: '+(new Date().getTime()-window.timestart))\n\n\n\n    frame.use()\n    setTimeout(()=>{\n      this.refs.studio.update()\n    },100)\n  }\n  addContour(img_url, onerror){\n\n    const img = new Image(256,256)\n    img.src = img_url\n    img.onload = ()=>{\n\n      const IMG_WIDTH = 256\n      const canvas = document.createElement('canvas')\n      canvas.width = IMG_WIDTH\n      canvas.height = IMG_WIDTH\n      const c = canvas.getContext(\"2d\")\n      c.drawImage(img, 0, 0)\n\n      const data = c.getImageData(0, 0, IMG_WIDTH, IMG_WIDTH).data\n\n      const fix = (num)=>{\n        if(num>128) return 255\n        return 0\n      }\n      const contour =  new Uint8Array(new ArrayBuffer(IMG_WIDTH * IMG_WIDTH), 0, IMG_WIDTH * IMG_WIDTH)\n      let j = 0\n      for (let i = 0; i < data.length; i+=4) {\n        contour[j++] = fix(data[i])\n      }\n\n      tf.toPixels(tf.reshape(tf.cast(contour, 'int32'), [256,256,1]), canvas).then(()=>{\n        const d_canvas = this.refs.studio.getSketch()\n        d_canvas.getContext('2d').drawImage(canvas, 0, 0, d_canvas.width, d_canvas.height)\n      })\n\n    }\n    img.onerror = (err)=>{\n      onerror()\n    }\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <Header title={'Draw A Car'} ref='header'/>\n        <div className='main-body' style={{position:'relative', backgroundImage: 'url(static/img/bg.jpg)'}}>\n          <Studio ref='studio'/>\n        </div>\n        <footer className='App-footer'></footer>\n        <div className='loading' ref='loading'><span className='loading-text'>Loading...<br/><span style={{fontSize:20}}>正在加载...</span></span></div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}